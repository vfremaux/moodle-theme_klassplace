{"version":3,"file":"jBreadCrumb.min.js","sources":["../src/jBreadCrumb.js"],"sourcesContent":["/**\n * @author Jason Roy for CompareNetworks Inc.\n * Thanks to mikejbond for suggested udaptes\n *\n * Version 1.1\n * Copyright (c) 2009 CompareNetworks Inc.\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/mit-license.php\n *\n */\n\n/* eslint-disable */\n/* jshint ignore:start */\ndefine(['jquery', 'core/log'], function($, log) {\n\n  \"use strict\"; // jshint ;_;\n\n  log.debug('Klassplace jBreadCrumb AMD');\n\n    // Private variables\n    \n    var _options = {};\n    var _container = {};\n    var _breadCrumbElements = {};\n    var _autoIntervalArray = [];\n    var _easingEquation;\n\n    // Public functions\n\n    $.fn.jBreadCrumb = function(options)\n    {\n        _options = $.extend({}, $.fn.jBreadCrumb.defaults, options);\n        \n        return this.each(function()\n        {\n            _container = $(this);\n            setupBreadCrumb();\n        });\n        \n    };\n    \n    // Private functions\n    \n    function setupBreadCrumb() {\n        //Check if easing plugin exists. If it doesn't, use \"swing\"\n        if(typeof($.easing) == 'object') {\n            _easingEquation = 'easeOutQuad'\n        } else {\n           _easingEquation = 'swing'\n        }\n\n        //The reference object containing all of the breadcrumb elements\n        _breadCrumbElements = $(_container).find('li');\n        \n        //Keep it from overflowing in ie6 & 7\n        $(_container).find('ul').wrap('<div style=\"overflow:hidden; position:relative;  width: ' + $(_container).css(\"width\") + ';\"><div>');\n\n        //If the breadcrumb contains nothing, don't do anything\n        if (_breadCrumbElements.length > 0) {\n            $(_breadCrumbElements[_breadCrumbElements.length - 1]).addClass('last');\n            $(_breadCrumbElements[0]).addClass('first');\n\n            //If the breadcrumb object length is long enough, compress.\n\n            if (_breadCrumbElements.length > _options.minimumCompressionElements) {\n                compressBreadCrumb();\n            };\n        };\n    };\n\n    function compressBreadCrumb() {\n\n        // Factor to determine if we should compress the element at all\n        var finalElement = $(_breadCrumbElements[_breadCrumbElements.length - 1]);\n\n        // If the final element is really long, compress more elements\n        if ($(finalElement).width() > _options.maxFinalElementLength) {\n            if (_options.beginningElementsToLeaveOpen > 0) {\n                _options.beginningElementsToLeaveOpen--;\n\n            }\n            if (_options.endElementsToLeaveOpen > 0) {\n                _options.endElementsToLeaveOpen--;\n            }\n        }\n        /* If the final element is within the short and long range,\n           compress to the default end elements and 1 less beginning elements. */\n        if ($(finalElement).width() < _options.maxFinalElementLength && $(finalElement).width() > _options.minFinalElementLength) {\n            if (_options.beginningElementsToLeaveOpen > 0) {\n                _options.beginningElementsToLeaveOpen--;\n\n            }\n        }\n\n        var itemsToRemove = _breadCrumbElements.length - 1 - _options.endElementsToLeaveOpen;\n\n        // We compress only elements determined by the formula setting below.\n        $(_breadCrumbElements).each(function(i, listElement) {\n            if (i > _options.beginningElementsToLeaveOpen && i < itemsToRemove) {\n\n                $(listElement).find('a').wrap('<span></span>').width($(listElement).find('a').width() + _options.previewWidth);\n                var options = {\n                    id: i,\n                    width: $(listElement).width(),\n                    listElement: $(listElement).find('span'),\n                    isAnimating: false,\n                    element: $(listElement).find('span')\n\n                };\n                $(listElement).bind('mouseover', options, expandBreadCrumb).bind('mouseout', options, shrinkBreadCrumb);\n                $(listElement).find('a').unbind('mouseover', expandBreadCrumb).unbind('mouseout', shrinkBreadCrumb);\n                listElement.autoInterval = setInterval(function() {\n                    clearInterval(listElement.autoInterval);\n                    $(listElement).find('span').animate({\n                        width: _options.previewWidth\n                    }, _options.timeInitialCollapse, _options.easing);\n                }, (150 * (i - 2)));\n            }\n        });\n    };\n\n    function expandBreadCrumb(e) {\n        var originalWidth = e.data.width;\n        $(e.data.element).stop();\n        $(e.data.element).animate({\n            width: originalWidth + (_options.previewWidth / 2)\n        }, {\n            duration: _options.timeExpansionAnimation,\n            easing: _options.easing,\n            queue: false\n        });\n        return false;\n    };\n\n    function shrinkBreadCrumb(e) {\n        $(e.data.element).stop();\n        $(e.data.element).animate({\n            width: _options.previewWidth\n        }, {\n            duration: _options.timeCompressionAnimation,\n            easing: _options.easing,\n            queue: false\n        });\n        return false;\n    };\n\n    // Public global variables.\n    $.fn.jBreadCrumb.defaults = {\n        maxFinalElementLength: Math.round($(window).width() * .05),\n        minFinalElementLength: Math.round($(window).width() *.02),\n        minimumCompressionElements: 1,\n        endElementsToLeaveOpen: 0,\n        beginningElementsToLeaveOpen: 0,\n        timeExpansionAnimation: 500,\n        timeCompressionAnimation: 400,\n        timeInitialCollapse: 500,\n        easing: 'swing',\n        previewWidth: Math.round($(window).width() * .015)\n    };\n\n  return {\n    init: function() {\n      $(document).ready(function($) {\n        if (window.matchMedia('(min-width:480px)').matches) {\n           $('.breadcrumb.style1').jBreadCrumb();\n           log.debug('klassplace jBreadCrumb AMD binded');\n        } else {\n           log.debug('klassplace jBreadCrumb AMD blocked for media');\n        }\n      });\n      log.debug('klassplace jBreadCrumb AMD init');\n    }\n  }\n});\n/* jshint ignore:end */"],"names":["define","$","log","debug","_options","_container","_breadCrumbElements","expandBreadCrumb","e","originalWidth","data","width","element","stop","animate","previewWidth","duration","timeExpansionAnimation","easing","queue","shrinkBreadCrumb","timeCompressionAnimation","fn","jBreadCrumb","options","extend","defaults","this","each","find","wrap","css","length","addClass","minimumCompressionElements","finalElement","maxFinalElementLength","beginningElementsToLeaveOpen","endElementsToLeaveOpen","minFinalElementLength","itemsToRemove","i","listElement","id","isAnimating","bind","unbind","autoInterval","setInterval","clearInterval","timeInitialCollapse","compressBreadCrumb","setupBreadCrumb","Math","round","window","init","document","ready","matchMedia","matches"],"mappings":"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"}